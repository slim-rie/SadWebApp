<!-- SUPPLIER TO -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Status Management - JBR Tanching C.O</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/delivery_status.css') }}">
    <script src="{{ url_for('static', filename='js/delivery_status.js') }}"></script>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <img src="{{ url_for('static', filename='pictures/JBR LOGO.png') }}" alt="JBR Tanching C.O Logo">
            <div class="logo-text">JBR Tanching C.O</div>
        </div>
        <ul class="nav-menu">
            <li class="active"><a href="{{ url_for('auth.dashboard') }}">Dashboard</a></li>
            <li><a href="{{ url_for('auth.request_management') }}">Request Management</a></li>
            <li><a href="{{ url_for('auth.delivery_status') }}">Delivery Status Management</a></li>
            <li><a href="{{ url_for('auth.reports') }}">Reports</a></li>
            <li><a href="{{ url_for('auth.settings') }}">Settings</a></li>
        </ul>
    </div>
    
    <div class="main-content">
        <div class="page-header">
            <h1 class="page-title">Delivery Status Management</h1>
        </div>
        
        <div class="filter-section">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="status">Filter by Status:</label>
                    <select id="status">
                        <option>All Status</option>
                        <option>Pending</option>
                        <option>Approved</option>
                        <option>Rejected</option>
                        <option>To Ship</option>
                        <option>Complete</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Start Date:</label>
                    <input type="date" id="startDate">
                </div>

                <div class="filter-group">
                    <label>End Date:</label>
                    <input type="date" id="endDate">
                </div>
                
                <div class="filter-buttons">
                    <button class="btn btn-primary">Apply Filters</button>
                </div>
            </div>
        </div>
        
        <div class="data-table">
            <table class="delivery-status-table">
                <thead>
                  <tr>
                    <th>Request ID</th>
                    <th>Products</th>
                    <th>Quantity</th>
                    <th>Requested By</th>
                    <th>Supplier Name</th>
                    <th>Request Date</th>
                    <th>Delivery Date</th>
                    <th>Delivery Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- JS will populate rows here -->
                </tbody>
              </table>
        </div>
    </div>

    <!-- Modal -->
    <div id="requestModal" class="modal">
        <div class="modal-content" style="margin: 40px auto 0 auto; max-width: 500px; max-height: 70vh;">
            <div class="modal-header">
                <h2 class="modal-title">Delivery Details</h2>
                <button class="close-modal" id="closeModalBtn" style="position:absolute;top:12px;right:18px;font-size:1.5rem;background:none;border:none;cursor:pointer;">&times;</button>
            </div>
            <div class="modal-body">
                <div class="detail-group">
                    <div class="detail-label">Delivery ID</div>
                    <div class="detail-value" id="modalDeliveryId"></div>
                </div>
                <div class="detail-group">
                    <div class="detail-label">Request ID</div>
                    <div class="detail-value" id="modalRequestId"></div>
                </div>
                <div class="detail-group">
                    <div class="detail-label">Delivery Date</div>
                    <div class="detail-value" id="modalDeliveryDate"></div>
                </div>
                <div class="detail-group">
                    <div class="detail-label">Status</div>
                    <div class="detail-value" id="modalStatus"></div>
                </div>
                <div class="detail-group">
                    <div class="detail-label">Products</div>
                    <ul class="products-list" id="modalProducts"></ul>
                </div>
            </div>
        </div>
    </div>

    <div id="chatTopbarContainer" style="display:flex;">
        <div class="chat-topbar">
            <div class="chat-profile">
                <img src="{{ url_for('static', filename='pictures/Skylab.png') }}" alt="User" class="chat-profile-img">
                <div class="chat-profile-info">
                    <div class="chat-profile-name">Skylab Manufacturing</div>
                    <div class="chat-profile-role">Supplier</div>
                </div>
                <i class="fas fa-chevron-down" id="profileDropdownToggle" style="cursor:pointer;"></i>
                <div class="chat-profile-dropdown" id="profileDropdownMenu">
                    <a href="{{ url_for('auth.logout') }}" class="chat-profile-dropdown-item logout-link" id="logoutBtn">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/delivery_status.js') }}"></script>
</body>
</html>